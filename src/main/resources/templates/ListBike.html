<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
  <title>Community Bike Share Web Application</title> 
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
   	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css"/>
    <link href="/css/bootstrap.min.css" rel="stylesheet"/>
    <style>
   
   body {
     margin: 0;
     background: url('/images/generic_bg_img.jpg');
     background-size: 100%;
     background-repeat:no-repeat;
     display: compact;
     font: 13px/18px "Helvetica Neue", Helvetica, Arial, sans-serif;
	}
	</style>
  </head>
<body>
<nav class="navbar navbar-default navbar-blue" role="navigation">
    <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->

	    <div class="navbar-header">
	       <a class="navbar-brand" href="#">Bike Share</a>
	      <a class="navbar-brand">Welcome User</a>
	    </div>
    
     	<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
     
	      <ul class="nav navbar-nav navbar-right">
	
	       <li><a href="#" th:href="@{/about}">About Us</a></li>
	        <li class="active"><a href="#" th:href="@{/api/v1/users/logout}">LogOut</a></li>
	      </ul>
    	</div>   
    
	 </div><!-- /.container-fluid -->

 </nav>


<!-- <p th:text="'email: ' + ${bike.userEmail}"/> -->
<p th:text="'email: ' + ${userEmail}"/>
<div class="col-md-6 col-md-offset-3">
  <div class="panel panel-default">
    <div class="panel-heading">Sign Up</div>
     <div class="panel-body">
		<form action="#" th:action="@{/api/v1/bike/save/}" th:object="${Bike}" method="post" id="form" role="form">
  			<div class="row">
			  <div class="col-xs-6 col-md-offset-3">
		    	<label for="address" >Address/Zip Code</label>
		    	<input type="text" class="form-control" id="location" placeholder="Enter address" th:field="*{address}"/>
  			  </div>
   			</div>
	<br></br>
	<div class="row">
		<div class="col-xs-6 col-md-offset-3">
		<label for="option">Verify Address</label> <input id="option" type="checkbox" onclick="codeAddress()"/>
		</div>
   </div>
	<br></br>
		
  <div class="row">
	  <div class="col-xs-6 col-md-offset-3">
	    <label for="accessories">Accessories</label>
	    <input type="text" class="form-control" id="accessories" placeholder="accessories" th:field="*{accessories}"/>
	  </div>
   </div>
	<br></br>
	
  <input type="hidden" name="userEmail" id="userEmail" th:value="${userEmail}"/>
  
	<div class="row">
	  <div class="col-xs-6 col-md-offset-3">
	    <label for="description">Description</label>
	    <input type="text" class="form-control" id="description" placeholder="description" th:field="*{description}"/>
	  </div>
   </div>
	<br></br>  
 
	<div class="row">
		<div class="col-xs-6 col-md-offset-3">
	    <label for="bikeCode">Bike Code</label>
	    <input type="text" class="form-control" id="bikeCode" placeholder="bikeCode" th:field="*{bikeCode}"/>
	  </div>
   </div>
	<br></br>
  
   <div class="row">
		<div class="col-xs-6 col-md-offset-3">
	     <label for="fromDate">From Date</label>
	     <input type="date" class="form-control" id="fromDate" placeholder="MM/DD/YYYY" th:field="*{fromDate}"/>
	    </div>
	</div>
	<br></br>
  
   <div class="row">
	  <div class="col-xs-6 col-md-offset-3">
    	<label for="toDate">To date</label>
    	<input type="date" class="form-control" id="toDate" placeholder="To date" th:field="*{toDate}"/>
  		</div>
  </div>
  
  <div class="row">
	<div class="col-xs-6 col-md-offset-3">
		<label for="bikeType">Bike Type</label>
			<select class="form-control" name="bikeType" id="bikeType" th:field="*{bikeType}">
			 <option value="">Select your bike type</option>
			 <option value="mountainbike">Mountain Bike</option>
			 <option value="RoadBike">Road Bike</option>
			 <option value="CruiserBike">Cruiser Bike</option>
			 <option value="FixedGear">Fixed Gear</option>
			 <option value="FoldingBike">Folding Bike</option>
			 <option value="TandemBike">Tandem Bike</option>
			 <option value="TriathlonBike">Triathlon Bike</option>
			 <option value="TricycleBike">Tricycle Bike</option>
			 </select>
	</div>
   </div>
	<br></br>
  
  <div class="form-group">
<label for="latitude"></label>
<input type="hidden" class="form-control" id="latitude" placeholder="Latitude" th:field="*{latitude}"></input>
</div>

<div class="form-group">
<label for="longitude"></label>
<input type="hidden" class="form-control" id="longitude" placeholder="Longitude" th:field="*{longitude}"></input>
</div>
  <div class="col-xs-6 col-sm-4 col-md-offset-4">
  <button id="submit" type="submit" class="btn btn-default">Submit</button></div>
</form>
</div>
</div>
</div>
<script src ="/js/jquery-1.11.1.min.js"></script>
<script src ="/js/bootstrap.min.js"></script>
<!-- <script type="text/javascript" src="/js/resetForm.js"></script> -->
<script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>


 <script>
 var geocoder;
 var map;
 geocoder = new google.maps.Geocoder();
 
function codeAddress() {

var address = document.getElementById('location').value;
var fromdate = $('#fromdate').val();
var toDate = $('#todate').val();
	  geocoder.geocode( { 'address': address}, function(results, status) {
	    if (status == google.maps.GeocoderStatus.OK) {
	    	
	    	var latitude = results[0].geometry.location.lat();
	    	var longitude = results[0].geometry.location.lng();
	    	document.getElementById("latitude").value = latitude;
	    	document.getElementById("longitude").value = longitude;

		  alert("User Address "+results[0].geometry.location);
	    } else {
	      alert('Geocode was not successful for the following reason: ' + status);
	    }
	  });
	}
</script>
 
  
</body>
</html>